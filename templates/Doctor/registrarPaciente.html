{% extends "Doctor/layout.html" %}
{% load staticfiles %}
{% block content-body %}
    <script type="application/javascript" src="{% static "js/utils.js" %}"></script>
    <script type="application/javascript" src="{% static "js/Doctor/Registro.js" %}"></script>
    <h1>Registrar Paciente</h1>
    <form id="register">
        {% if Edit %}
            <script type="application/javascript" src="{% static "js/Administrador/utils.js" %}"></script>
            <input type="hidden" name="id" value="{{ EditID }}">
            <input type="hidden" id="id_tipoInt" name="tipo" value="{{ TipoInt }}">
        {% else %}
        <fieldset>
            <legend>Datos de autentificación</legend>
            <div class="row">
                <label class="inline">{{ uForm.username.label }}</label>{{ uForm.username }}{{ uForm.username.errors }}
            </div>
            <div class="row">
                <label class="inline">{{ uForm.password.label }} </label>{{ uForm.password }}{{ uForm.password.errors }}
                <label class="inline">Repetir</label>
                <input type="password" name="re_password" value="" onblur="MatchesPassword($('#id_password'), $(this))">
            </div>
        </fieldset>
        {% endif %}
        <fieldset>
            <legend>Información Personal</legend>
            <div class="row">
             <label class="inline">{{ pForm.name.label }}</label>{{ pForm.name }}{{ pForm.name.errors }}
            </div>
            <div class="row">
                <label class="inline">{{ pForm.apaterno.label }}</label>{{ pForm.apaterno }}{{ pForm.apaterno.errors }}
                <label class="inline">{{ pForm.amaterno.label }}</label>{{ pForm.amaterno }}{{ pForm.amaterno.errors }}
            </div>

            <div class="row">
                <label class="inline">{{ pForm.fech_naci.label }}</label>{{ pForm.fech_naci }}{{ pForm.fech_naci.errors }}
                <label class="inline">{{ pForm.curp.label }}</label>{{ pForm.curp }}{{ pForm.curp.errors }}
            </div>
            <div class="row">
                <label class="inline">{{ pForm.calle.label }}</label>{{ pForm.calle }}{{ pForm.calle.errors }}
                <label class="inline">{{ pForm.numero.label }}</label>{{ pForm.numero }}{{ pForm.numero.errors }}
            </div>
            <div class="row">
                <label class="inline">{{ pForm.colonia.label }}</label>{{ pForm.colonia }}{{ pForm.colonia.errors }}
                <label class="inline">{{ pForm.cod_post.label }}</label>{{ pForm.cod_post }}{{ pForm.cod_post.errors }}
            </div>
            <div class="row">
                <label class="inline">{{ pForm.municipio.label }}</label>{{ pForm.municipio }}{{ pForm.municipio.errors }}
                <label class="inline">{{ pForm.estado.label }}</label>{{ pForm.estado }}{{ pForm.estado.errors }}
            </div>
            <div class="row">
                <label class="inline">{{ pForm.pais.label }}</label>{{ pForm.pais }}{{ pForm.pais.errors }}
                <label class="inline">{{ pForm.tel.label }}</label>{{ pForm.tel }}{{ pForm.tel.errors }}
            </div>
            <div class="row">
                <label class="inline">{{ pForm.cel.label }}</label>{{ pForm.cel }}{{ pForm.cel.errors }}
                <label class="inline">{{ uForm.email.label }}</label>{{ uForm.email }}{{ uForm.email.errors }}
            </div>
        </fieldset>
        <fieldset>
            <legend>Origen</legend>
            <div class="row">
                <label class="inline">{{ pForm.grupo.label }}</label>{{ pForm.grupo }}{{ pForm.grupo.errors}}
                <label class="inline">{{ pForm.religion.label }}</label>{{ pForm.religion }}{{ pForm.religion.errors }}
            </div>
        </fieldset>

        <fieldset>
            <legend>Información Médica General</legend>
             <div class="row">
                <label class="inline">{{ pForm.sangre.label }}</label>{{ pForm.sangre }}{{ pForm.sangre.errors }}
            </div>

            <div class="row" >
                <label class="inline" style="width: 200px;">{{ pForm.antecedentes.label }}</label>
            </div>
            <div class="row" >
                {{ pForm.antecedentes}}{{ pForm.antecedentes.errors }}
             </div>

            <div class="row" >
                <label class="inline" style="width: 200px;">{{ pForm.discapacidad.label }}</label>
            </div>
            <div class="row" >
                {{ pForm.discapacidad}}{{ pForm.discapacidad.errors }}
             </div>

            <div class="row" >
                <label class="inline" style="width: 200px;">{{ pForm.alergias.label }}</label>
            </div>
            <div class="row" >
                {{ pForm.alergias}}{{ pForm.alergias.errors }}
             </div>

             <div class="row" >
                <label class="inline" style="width: 200px;">{{ pForm.enfermedades.label }}</label>
            </div>
            <div class="row" >
                {{ pForm.enfermedades}}{{ pForm.enfermedades.errors }}
             </div>

        </fieldset>

        <div class="form-actions">
            <input class="button medium blue" style="margin-top: 1em;" type="button"
                    {% if Edit %} onclick="UpdateChanges()" value="Actualizar"
                    {% else %} onclick="RegistrarPaciente()" value="Registrar" {% endif %}>
        </div>

    </form>
{% endblock %}